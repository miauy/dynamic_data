<div class="card">
  <div class="card-header">
    <h2>{{#if order}}Edit{{else}}Add{{/if}} Order</h2>
  </div>
  <div class="card-body">
    {{> form_helpers/error_messages errors=errors}}
    <form method="POST" action="/orders{{#if order}}/{{order.id}}{{/if}}">
      <div class="mb-3">
        <label class="form-label">Customer*</label>
        <select class="form-select" name="CustomerId" required>
          <option value="">Select a customer</option>
          {{#each customers}}
            <option value="{{this.id}}" {{#eq this.id ../order.CustomerId}}selected{{/eq}}>
              {{this.firstName}} {{this.lastName}}
            </option>
          {{/each}}
        </select>
      </div>

      <div class="mb-3">
        <label class="form-label">Size*</label>
        <select class="form-select" name="size" required>
          <option value="S" {{#eq order.size 'S'}}selected{{/eq}}>Small</option>
          <option value="M" {{#eq order.size 'M'}}selected{{/eq}}>Medium</option>
          <option value="L" {{#eq order.size 'L'}}selected{{/eq}}>Large</option>
          <option value="XL" {{#eq order.size 'XL'}}selected{{/eq}}>Extra Large</option>
        </select>
      </div>

      <div class="mb-3">
        <label class="form-label">Toppings</label>
        <input type="text" class="form-control" name="toppings" 
               value="{{order.toppings}}" placeholder="Pepperoni, Mushrooms, etc.">
      </div>

      <div class="mb-3">
        <label class="form-label">Notes</label>
        <textarea class="form-control" name="notes" rows="3">{{order.notes}}</textarea>
      </div>

      <div class="mb-3">
        <label class="form-label">Status</label>
        <select class="form-select" name="status">
          <option value="New" {{#eq order.status 'New'}}selected{{/eq}}>New</option>
          <option value="Processing" {{#eq order.status 'Processing'}}selected{{/eq}}>Processing</option>
          <option value="Completed" {{#eq order.status 'Completed'}}selected{{/eq}}>Completed</option>
        </select>
      </div>

      <div class="d-flex gap-2 mt-3">
        <button type="submit" class="btn btn-primary">Save</button>
        <a href="/orders" class="btn btn-secondary">Cancel</a>
      </div>
    </form>
  </div>
</div>